/* jquery.scrollToFixed * code copyright 2010 David Vedder / changeMode design */
(function(a){a.fn.scrollToFixed=function(b){b=b||0;return this.each(function(){if(!(a.browser.msie&&parseInt(a.browser.version,10)<=6)){var e=5,f=window.innerHeight||a(window).height(),i=a(this),h=a(window),n=a(document),j=i.offset().top,l=i.offset().left,k=parseInt(i.css("margin-top"),10),d=parseInt(i.css("margin-left"),10),o=i.width(),m=j-k-b,c=l-d,g=0+b;if(isNaN(k)){k=e}if(isNaN(d)){d=e}if(i.height()<f){h.scroll(function(){var p=n.scrollTop();if(p>=m){if(i.css("position")!=="fixed"){i.css({position:"fixed",top:g,left:c,width:o})}}else{if(i.css("position")!=="relative"){i.css({left:"0",position:"relative",top:0})}}})}}})}}(jQuery));
